"use strict"
var inps = document.getElementsByTagName("input");
var regex = {

    username: /^[a-z0-9_-]{3,16}$/,
    userphone: /^(010|011|012|015)[0-9]{8}$/,
    useremail: /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
    userpassword: /^[A-Z][0-9][a-z]{4,10}$/,
    userrepassword: /^[A-Z][0-9][a-z]{4,10}$/,
};
//  for loop to check each input and comparing its regx
for (var i = 0; i < inps.length; i++) {
    inps[i].addEventListener("keyup", function(e) {
        validator(e.target, regex[e.target.attributes.name.value])

    })
}
//  function to check regular expression for all inputs
function validator(inps, reg) {

    if (reg.test(inps.value) == true) {

        inps.className = "form-control is-valid"
    } else {

        inps.className = "form-control is-invalid "
    }
}
//  function ckeck if the two passwords are the same
function onChange() {
    const password = document.querySelector('input[name=userpassword]');
    const confirm = document.querySelector('input[name=userrepassword]');
    if (confirm.value === password.value) {
        confirm.setCustomValidity('');
    } else {
        confirm.setCustomValidity('Passwords do not match');
    }
}